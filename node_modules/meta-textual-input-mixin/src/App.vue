<script>
  import MetaCommonInputMixin from 'meta-common-input-mixin';

  export default {
    
    mixins: [
      MetaCommonInputMixin,
    ],

    props: {
      maxlength: {
        type: Number,
        required: false,
        default: 255,
      },
      minlength: {
        type: Number,
        required: false,
        default: 0,
      },
      pattern: {
        type: String,
        required: false,
        default: '(.*?)',
      },
      placeholder: {
        type: String,
        required: false,
        default: '',
      },
      value: {
        type: String,
        required: true,
      },
      autofocus: {
        type: Boolean,
        required: false,
        default: false,
      }, 
    },

    computed: {
      rules() {
        return Object.assign({}, this.validations, {
          required: this.required,
          max: this.maxlength,
          min: this.minlength,
          regex: this.pattern,
        });
      }
    },

    methods: {
      updateValue(value) {
        this.$emit('input', value);
      }
    },    

  };
</script>
